generator client {
  provider = "prisma-client-py"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

enum PaymentType {
  CASH
  CARD
}

model Category {
  id       Int       @id @default(autoincrement())
  name     String
  active   Boolean   @default(true)
  products Product[]
}

model Product {
  id          Int       @id @default(autoincrement())
  name        String
  price       Float
  active      Boolean   @default(true)
  category    Category  @relation(fields: [category_id], references: [id])
  category_id Int
  saleItems   SaleItem[]
}

model Sale {
  id            Int         @id @default(autoincrement())
  created_at    DateTime    @default(now())
  payment_type  PaymentType
  cash_received Float?
  items         SaleItem[]
}

model SaleItem {
  id         Int     @id @default(autoincrement())
  sale       Sale    @relation(fields: [sale_id], references: [id])
  sale_id    Int
  product    Product @relation(fields: [product_id], references: [id])
  product_id Int
  quantity   Int
  price      Float
}
